{"version":3,"sources":["webpack:///./src/views/snow.vue?c4ad","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./src/views/snow.vue?1f8f","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/views/snow.js","webpack:///src/views/snow.vue","webpack:///./src/views/snow.vue?6537","webpack:///./src/views/snow.vue","webpack:///./node_modules/core-js/modules/es.array.fill.js"],"names":["toObject","toAbsoluteIndex","toLength","module","exports","value","O","this","length","argumentsLength","arguments","index","undefined","end","endPos","render","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","_classCallCheck","instance","Constructor","TypeError","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","flakeMove","canvasWidth","canvasHeight","flakeSize","fallSpeed","velX","velY","speed","Math","random","step","stepSize","y","x","reset","width","floor","size","masSize","ctx","snowFlake","createRadialGradient","addColorStop","save","fillStyle","beginPath","arc","PI","fill","restore","snowFall","id","max","snowcanvas","document","createElement","height","body","clientHeight","clientWidth","setAttribute","getElementById","containerId","appendChild","canvas","getContext","window","onresize","innerWidth","innerHeight","maxFlake","flakes","i","push","clearRect","update","requestAnimationFrame","drawSnow","bind","status","createCanvas","createFlakes","mounted","snow","start","component","$","addToUnscopables","target","proto"],"mappings":"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","file":"js/chunk-0e9725ce.c471937a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./snow.vue?vue&type=style&index=0&id=3de0ab8a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./snow.vue?vue&type=style&index=0&id=3de0ab8a&lang=less&scoped=true&\"","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/* eslint-disable no-debugger */\nclass flakeMove {\n  constructor({ canvasWidth, canvasHeight, flakeSize, fallSpeed }) {\n    // eslint-disable-next-line no-console\n    this.canvasWidth = canvasWidth;\n    this.canvasHeight = canvasHeight;\n    this.x = Math.floor(Math.random() * canvasWidth); //x坐标\n    this.y = Math.floor(Math.random() * canvasHeight); //y坐标\n    this.size = Math.random() * flakeSize + 2; //形状\n    this.masSize = flakeSize; //最大形状\n    this.speed = Math.random() * 1 + fallSpeed; //坠落速度\n    this.fallSpeed = fallSpeed; //坠落速度\n    this.velY = this.speed; //y方向速度\n    this.velX = 0; //x方向速度\n    this.stepSize = Math.random() / 30; //步长\n    this.step = 0; //步数\n  }\n  update = () => {\n    this.velX *= 0.98;\n    if (this.velY <= this.speed) {\n      this.velY = this.speed;\n    }\n    this.velX += Math.random((this.step += 0.05)) * this.stepSize;\n\n    this.y += this.velY;\n    this.x += this.velX;\n    //飞出边界处理\n    if (\n      this.x >= this.canvasWidth ||\n      this.x <= 0 ||\n      this.y >= this.canvasHeight ||\n      this.y <= 0\n    ) {\n      this.reset(this.canvasWidth, this.canvasHeight);\n    }\n  };\n  //飞出边界--放置最顶端继续坠落\n  reset = width => {\n    this.x = Math.floor(Math.random() * width);\n    this.y = 0;\n    this.size = Math.random() * this.masSize + 2;\n    this.speed = Math.random() * 1 + this.fallSpeed;\n    this.velY = this.speed;\n    this.velX = 0;\n  };\n  //渲染雪花--随机形状\n  render = ctx => {\n    var snowFlake = ctx.createRadialGradient(\n      this.x,\n      this.y,\n      0,\n      this.x,\n      this.y,\n      this.size\n    );\n    snowFlake.addColorStop(0, \"rgba(255,255,255,0.9)\");\n    snowFlake.addColorStop(0.5, \"rgba(255,255,255,0.9)\");\n    snowFlake.addColorStop(1, \"rgba(255,255,255,0)\");\n    ctx.save();\n    ctx.fillStyle = snowFlake;\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n    ctx.fill();\n    ctx.restore();\n  };\n}\n\nexport default class snowFall {\n  constructor({ id = \"snow\", max = 200, size = 4, speed = 2 }) {\n    this.maxFlake = max; // 数量\n    this.flakeSize = size; // 形状\n    this.fallSpeed = speed; // 速度\n    this.containerId = id;\n  }\n  createCanvas = () => {\n    //添加Dom节点\n    var snowcanvas = document.createElement(\"canvas\");\n    snowcanvas.id = \"snowfall\";\n    this.height = document.body.clientHeight;\n    this.width = document.body.clientWidth;\n    snowcanvas.width = document.body.clientWidth;\n    snowcanvas.height = document.body.clientHeight;\n    snowcanvas.setAttribute(\n      \"style\",\n      \"position:fixed;top:0;left:0;z-index:2999;pointer-events:none;\"\n    );\n\n    // document.body.appendChild(snowcanvas);\n    document.getElementById(this.containerId).appendChild(snowcanvas);\n    this.canvas = snowcanvas;\n    this.ctx = snowcanvas.getContext(\"2d\");\n    //窗口大小改变处理\n    window.onresize = function() {\n      snowcanvas.width = window.innerWidth;\n      snowcanvas.height = window.innerHeight;\n    };\n  };\n  createFlakes = () => {\n    var maxFlake = this.maxFlake,\n      flakes = (this.flakes = []);\n    for (var i = 0; i < maxFlake; i++) {\n      flakes.push(\n        new flakeMove({\n          canvasWidth: this.width,\n          canvasHeight: this.height,\n          flakeSize: this.flakeSize,\n          fallSpeed: this.fallSpeed\n        })\n      );\n    }\n  };\n  drawSnow = () => {\n    const { maxFlake, flakes, canvas, ctx } = this;\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    for (var i = 0; i < maxFlake; i++) {\n      flakes[i].update();\n      flakes[i].render(ctx);\n    }\n    //一折一帧的画\n    // requestAnimationFrame(this.drawSnow);\n\n    requestAnimationFrame(\n      function() {\n        this.drawSnow();\n      }.bind(this)\n    );\n  };\n  start = () => {\n    this.status = 1;\n    //创建画布\n    this.createCanvas();\n    //创建雪花形状\n    this.createFlakes();\n    //画学\n    this.drawSnow();\n  };\n}\n","<template>\n  <div id=\"container\"></div>\n</template>\n<script>\nimport Snow from \"./snow.js\";\nexport default {\n  mounted() {\n    let snow = new Snow({\n      id: \"container\",\n      max: 300,\n      size: 6,\n      speed: 1\n    });\n    snow.start();\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n#container {\n  height: 100vh;\n  background: url(\"../assets/pattern.svg\");\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./snow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./snow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./snow.vue?vue&type=template&id=3de0ab8a&scoped=true&\"\nimport script from \"./snow.vue?vue&type=script&lang=js&\"\nexport * from \"./snow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./snow.vue?vue&type=style&index=0&id=3de0ab8a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3de0ab8a\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n"],"sourceRoot":""}